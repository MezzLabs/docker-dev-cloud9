#c9dev docker aliases
### dl ## = get latest container ID
alias dl="docker ps -l -q"

### dp ## = show running containers
alias dp="docker ps"

### dpa ## = show all containers
alias dpa="docker ps -a"

### di ## = show all images
alias di="docker images"

### dip ## = get container IP
alias dip="docker inspect --format '{{ .NetworkSettings.IPAddress }}'"

### dipl ## = get last run container's IP
alias dipl="docker inspect --format '{{ .NetworkSettings.IPAddress }} $(dl)'"

### dkd ## = run daemonized container, e.g., $dkd base /bin/echo hello
alias dkd="docker run -d -P"

### dki ## = run interactive container, e.g., $dki base /bin/bash
alias dki="docker run -i -t -P"

### dsh ## = run shell in a container or image, e.g., dsh tcnksm/test 
dsh() { docker run -i -t $1 /bin/bash; }

### dish ## = run shell in a subcontainer, e.g., dsh tcnksm/test 
dish() { docker run -i --entrypoint /bin/bash -t $1; }

### dind ## = run docker command inside a dind subcontainer, e.g., dind tcnksm/test /bin/command
dind() { docker run -i --entrypoint $2 -t $1; }

### dcm ## = commit a container to image, e.g., dcm some-cont-id tcnksm/test 
dcm() { docker commit $1 $2; }

### dps ## = start a container, e.g. dstart name/contnr
alias dps="docker start"

### dpst ## = stop a container, e.g. dstop name/contnr
alias dst="docker stop"

### dpsa ## = start all containers
dsa() { docker start $(docker ps -a -q); }

### dpsta ## = stop all containers
dsta() { docker stop $(docker ps -a -q); }

### dpr ## = remove a container
alias dir='docker rm'

### dprm ## = remove all containers, except running ones!!
dprm() { docker rm $(docker ps -a -q); }

### dprmf ## = stop and remove all containers
alias dprmf='docker stop $(docker ps -a -q) && docker rm $(docker ps -a -q)'

### dir ## = remove an image
alias dir='docker rmi'

### dirm ## = remove all images, except ones used by running containers!!
dirm() { docker rmi $(docker images -q); }

### dbu ## = dockerfile build, e.g., $dbu tcnksm/test 
dbu() { docker build -t=$1; }

### dalias ## = show all aliases
dalias() { alias | grep 'docker' | sed "s/^\([^=]*\)=\(.*\)/\1 => \2/"| sed "s/['|\']//g" | sort; }

